# 实验一 PID控制
## 1 指导内容

PID控制器的参数整定是控制系统设计的核心内容，它根据被控过程的特征确定PID控制器的比例系数、积分时间和微分时间。	
PID控制器参数整定的方法很多，概括起来有两大类：

### 1.1 理论计算整定法

主要依据系统的数学模型，经过理论计算确定控制器参数。这种方法所得到的计算数据未必可以直接使用，还必须通过工程实际进行调整和修改。

### 1.2 工程整定方法

主要有Ziegler-Nichols整定法、临界比例度法、衰减曲线法。这三种方法各有特点，其共同点都是通过实验，然后按照工程实验公式对控制器参数进行整定。但无论采用哪一种方法所得到的控制器参数，都需要在实际运行中进行最后调整与完善。
工程整定法的基本特点是：不需要事先知道过程的数学模型，直接在过程控制系统中进行现场整定；方法简单，计算简便，易于掌握。

#### 1.2.1 Ziegler-Nichols整定法

Ziegler-Nichols整定法是一种基于频域设计PID控制器的方法。基于频域的参数整定是需要考虑模型的，首先需要辨识出一个能较好反映被控对象频域特性的二阶模型。根据这样的模型，结合给定的性能指标可推导出公式，而后用于PID参数的整定。
基于频域的设计方法在一定程度上回避了精确的系统建模，而且有较为明确的物理意义，比常规的PID控制可适应的场合更多。目前已经有一些基于频域设计PID控制器的方法，如Ziegler-Nichols法、Cohen-Coon法等。Ziegler-Nichols法是最常用的整定参数的方法。
如果单位阶跃响应曲线看起来是一条S形的曲线，则可用此法，否则不能用。S形曲线用延时时间$L$和时间常数$T$来描述，则对象的传递函数可以近似为：
 $\frac{C(s)}{R(s)}=\frac{Ke^{-Ls}}{Ts+1}$
利用延时时间$L$、放大系数$K$和时间常数$T$，根据表一中的公式确定$K_p$,$T_i$和$\tau$的值。

**表一 Ziegler-Nichols整定法**

| 控制器类型 | 比例度$\delta$/%   | 积分时间$T_i$   | 微分时间$\tau$ |
| ---------- | ------------------ | --------------- | -------------- |
| P          | $\frac{KL}{T}$     | ∞               | 0              |
| PI         | $\frac{1.1KL}{T}$  | $\frac{L}{0.3}$ | 0              |
| PID        | $\frac{0.85KL}{T}$ | $2.2L$          | $0.5L$         |

#### 1.2.2 临界比例度法

临界比例度法适用于已知对象传递函数的场合，在闭环的控制系统里，将调节器置于纯比例作用下，从大到小逐渐改变调节器的比例度，得到等幅振荡的过渡过程。此时的比例度称为临界比例度$\delta _k$，两个相邻波峰间的时间间隔，称为临界振荡周期$T_k$。采用临界比例度法时，系统产生临界振荡的条件是系统的阶数是3阶或3阶以上。
临界比例度法的步骤如下：
1) 将调节器的积分时间$T_i$置于最大（$T_i=∞$），微分时间置零，比例度$\delta$适当，平衡操作一段时间，把系统投入自动运行；
2) 将比例度$\delta$逐渐减小，得到等幅振荡过程，记下临界比例度$\delta _k$和临界震荡周期$T _k$的值；
3) 根据$\delta _k$和$T _k$值，采用表二的经验公式，计算出调节器的各个参数，即$\delta$、$T _i$和$\tau$的值。

**表二临界比例度法整定控制器参数**

| 控制器类型 | 比例度$\delta$/% | 积分时间$T_i$    | 微分时间$\tau$ |
| ---------- | ---------------- | ---------------- | -------------- |
| P          | $2\delta _k$     | ∞                | 0              |
| PI         | $2.2\delta _k$   | $0.883\delta _k$ | 0              |
| PID        | $1.7\delta _k$   | $0.50T _k$       | $0.125T _k$    |

按“先P后I最后D”的操作程序将调节器整定参数调到计算数值上。若还不够满意，可再作一步调整。
临界比例度法注意事项：
1）有的过程控制系统，临界比例度很小，调节阀不是全关就是全开，对工业生产不利；
2）有的过程控制系统，当调节器比例度调到最小刻度值时，系统仍然不产生等幅振荡，对此，将最小刻度的比例度作为临界比例度进行调节器参数整定。

#### 1.2.3 **曲线衰减法**

衰减曲线法根据衰减频率特性整定控制器参数。先把控制系统中调节器参数置成纯比例作用（$T_i=∞,$$\tau=0$），使系统投入运行，再把比例度从大到小逐渐调小，直到出现4:1衰减过程曲线。此时比例度为4:1，衰减比例度为$\delta _s$，上升时间为$t _r$，两个相邻波峰间的时间间隔为$T _s$，称为4:1衰减振荡周期。
根据$\delta _s$,$t _r$,$T _s$,使用表三的经验公式可以计算出调节器的各个整定参数值。

**表三临界比例度法整定控制器参数**

| 控制器类型 | 比例度$\delta$/% | 积分时间$T_i$     | 微分时间$\tau$    |
| ---------- | ---------------- | ----------------- | ----------------- |
| P          | $\delta _s$      | ∞                 | 0                 |
| PI         | $1.2\delta _s$   | $2t _r或0.5T_s$   | 0                 |
| PID        | $0.8\delta _s$   | $1.2t _r或0.3T_s$ | $0.4t _r或0.1T_s$ |

按“先P后I最后D”的操作程序将调节器整定参数调到计算数值上。若还不够满意，可再作一步调整。
衰减曲线法的注意事项：
1）对于反应较快的系统，要认定4:1衰减曲线和读出比较困难，此时，可以认为记录指针来回摆动两次就达到稳定是4:1衰减过程。
2）在生产过程中，负荷变化会影响过程特性。当负荷变化较大时，必须重新整定调节器参数。
3）若认为4:1衰减太慢，可采用10:1衰减过程。对于10:1衰减曲线整定调节器参数的步骤与上述完全相同，仅仅是计算公式不同。

## 2 作业题目

建立如下所示Simulink仿真系统图。

![image](https://user-images.githubusercontent.com/53288823/172010886-69ddb7f4-e771-4008-bed9-55376cab7775.png)

利用Simulink仿真软件进行如下实验：

1. 建立如图所示的实验Simulink原理图。
1. 双击原理图中的PID模块，出现参数设定对话框，将PID控制器的积分增益和微分增益改为0，使其具有比例调节功能，对系统进行纯比例控制。
1. 进行仿真，观测系统的响应曲线，分析系统性能；然后调整比例增益，观察响应曲线的变化，分析系统性能的变化。
1. 重复（步骤2,3），将控制器的功能改为比例微分控制，观测系统的响应曲线，分析比例微分的作用。
1. 重复（步骤2,3），将控制器的功能改为比例积分控制，观测系统的响应曲线，分析比例积分的作用。
1. 重复（步骤2,3），将控制器的功能改为比例积分微分控制，观测系统的响应曲线，分析比例积分微分的作用。
1. 将PID控制器的积分微分增益改为0，对系统进行纯比例控制。不断修改比例增益，使系统输出的过度过程曲线的衰减比n=4，记下此时的比例增益值。
1. 修改比例增益，使系统输出的过度过程曲线的衰减比n=2，记下此时的比例增益值。
1. 修改比例增益，使系统输出呈现临界振荡波形，记下此时的比例增益。
1. 将PID控制器的比例、积分增益进行修改，对系统进行比例积分控制。不断修改比例、积分增益，使系统输出的过渡过程曲线的衰减比n=2,4,10，记下此时比例和积分增益。
1. 将PID控制器的比例、积分、微分增益进行修改，对系统进行比例积分控制。不断修改比例、积分、微分增益，使系统输出的过度过程曲线的衰减比n=2,4,10，记下此时比例、积分、微分增益。
